{
    "configs": [
     {
      "@type": "type.googleapis.com/envoy.admin.v3.BootstrapConfigDump",
      "bootstrap": {
       "node": {
        "hidden_envoy_deprecated_build_version": "84c35a782b56822d0b1a60211af78aa8052d401f/1.15.0-dev/Clean/RELEASE/BoringSSL",
        "user_agent_name": "envoy",
        "user_agent_build_version": {
         "version": {
          "major_number": 1,
          "minor_number": 15
         },
         "metadata": {
          "build.type": "RELEASE",
          "ssl.version": "BoringSSL",
          "revision.status": "Clean",
          "revision.sha": "84c35a782b56822d0b1a60211af78aa8052d401f",
          "build.label": "dev"
         }
        },
        "extensions": [
         {
          "name": "envoy.transport_sockets.alts",
          "category": "envoy.transport_sockets.upstream"
         },
         {
          "name": "envoy.transport_sockets.quic",
          "category": "envoy.transport_sockets.upstream"
         },
         {
          "name": "envoy.transport_sockets.raw_buffer",
          "category": "envoy.transport_sockets.upstream"
         },
         {
          "name": "envoy.transport_sockets.tap",
          "category": "envoy.transport_sockets.upstream"
         },
         {
          "name": "envoy.transport_sockets.tls",
          "category": "envoy.transport_sockets.upstream"
         },
         {
          "name": "raw_buffer",
          "category": "envoy.transport_sockets.upstream"
         },
         {
          "name": "tls",
          "category": "envoy.transport_sockets.upstream"
         },
         {
          "name": "envoy.health_checkers.redis",
          "category": "envoy.health_checkers"
         },
         {
          "name": "envoy.internal_redirect_predicates.allow_listed_routes",
          "category": "envoy.internal_redirect_predicates"
         },
         {
          "name": "envoy.internal_redirect_predicates.previous_routes",
          "category": "envoy.internal_redirect_predicates"
         },
         {
          "name": "envoy.internal_redirect_predicates.safe_cross_scheme",
          "category": "envoy.internal_redirect_predicates"
         },
         {
          "name": "envoy.filters.connection_pools.http.generic",
          "category": "envoy.upstreams"
         },
         {
          "name": "envoy.filters.connection_pools.http.http",
          "category": "envoy.upstreams"
         },
         {
          "name": "envoy.filters.connection_pools.http.tcp",
          "category": "envoy.upstreams"
         },
         {
          "name": "envoy.access_loggers.file",
          "category": "envoy.access_loggers"
         },
         {
          "name": "envoy.access_loggers.http_grpc",
          "category": "envoy.access_loggers"
         },
         {
          "name": "envoy.access_loggers.tcp_grpc",
          "category": "envoy.access_loggers"
         },
         {
          "name": "envoy.file_access_log",
          "category": "envoy.access_loggers"
         },
         {
          "name": "envoy.http_grpc_access_log",
          "category": "envoy.access_loggers"
         },
         {
          "name": "envoy.tcp_grpc_access_log",
          "category": "envoy.access_loggers"
         },
         {
          "name": "envoy.compression.gzip.decompressor",
          "category": "envoy.compression.decompressor"
         },
         {
          "name": "dubbo",
          "category": "envoy.dubbo_proxy.protocols"
         },
         {
          "name": "auto",
          "category": "envoy.thrift_proxy.protocols"
         },
         {
          "name": "binary",
          "category": "envoy.thrift_proxy.protocols"
         },
         {
          "name": "binary/non-strict",
          "category": "envoy.thrift_proxy.protocols"
         },
         {
          "name": "compact",
          "category": "envoy.thrift_proxy.protocols"
         },
         {
          "name": "twitter",
          "category": "envoy.thrift_proxy.protocols"
         },
         {
          "name": "envoy.client_ssl_auth",
          "category": "envoy.filters.network"
         },
         {
          "name": "envoy.echo",
          "category": "envoy.filters.network"
         },
         {
          "name": "envoy.ext_authz",
          "category": "envoy.filters.network"
         },
         {
          "name": "envoy.filters.network.client_ssl_auth",
          "category": "envoy.filters.network"
         },
         {
          "name": "envoy.filters.network.direct_response",
          "category": "envoy.filters.network"
         },
         {
          "name": "envoy.filters.network.dubbo_proxy",
          "category": "envoy.filters.network"
         },
         {
          "name": "envoy.filters.network.echo",
          "category": "envoy.filters.network"
         },
         {
          "name": "envoy.filters.network.ext_authz",
          "category": "envoy.filters.network"
         },
         {
          "name": "envoy.filters.network.http_connection_manager",
          "category": "envoy.filters.network"
         },
         {
          "name": "envoy.filters.network.kafka_broker",
          "category": "envoy.filters.network"
         },
         {
          "name": "envoy.filters.network.local_ratelimit",
          "category": "envoy.filters.network"
         },
         {
          "name": "envoy.filters.network.mongo_proxy",
          "category": "envoy.filters.network"
         },
         {
          "name": "envoy.filters.network.mysql_proxy",
          "category": "envoy.filters.network"
         },
         {
          "name": "envoy.filters.network.postgres_proxy",
          "category": "envoy.filters.network"
         },
         {
          "name": "envoy.filters.network.ratelimit",
          "category": "envoy.filters.network"
         },
         {
          "name": "envoy.filters.network.rbac",
          "category": "envoy.filters.network"
         },
         {
          "name": "envoy.filters.network.redis_proxy",
          "category": "envoy.filters.network"
         },
         {
          "name": "envoy.filters.network.rocketmq_proxy",
          "category": "envoy.filters.network"
         },
         {
          "name": "envoy.filters.network.sni_cluster",
          "category": "envoy.filters.network"
         },
         {
          "name": "envoy.filters.network.sni_dynamic_forward_proxy",
          "category": "envoy.filters.network"
         },
         {
          "name": "envoy.filters.network.tcp_proxy",
          "category": "envoy.filters.network"
         },
         {
          "name": "envoy.filters.network.thrift_proxy",
          "category": "envoy.filters.network"
         },
         {
          "name": "envoy.filters.network.zookeeper_proxy",
          "category": "envoy.filters.network"
         },
         {
          "name": "envoy.http_connection_manager",
          "category": "envoy.filters.network"
         },
         {
          "name": "envoy.mongo_proxy",
          "category": "envoy.filters.network"
         },
         {
          "name": "envoy.ratelimit",
          "category": "envoy.filters.network"
         },
         {
          "name": "envoy.redis_proxy",
          "category": "envoy.filters.network"
         },
         {
          "name": "envoy.tcp_proxy",
          "category": "envoy.filters.network"
         },
         {
          "name": "envoy.dynamic.ot",
          "category": "envoy.tracers"
         },
         {
          "name": "envoy.lightstep",
          "category": "envoy.tracers"
         },
         {
          "name": "envoy.tracers.datadog",
          "category": "envoy.tracers"
         },
         {
          "name": "envoy.tracers.dynamic_ot",
          "category": "envoy.tracers"
         },
         {
          "name": "envoy.tracers.lightstep",
          "category": "envoy.tracers"
         },
         {
          "name": "envoy.tracers.opencensus",
          "category": "envoy.tracers"
         },
         {
          "name": "envoy.tracers.xray",
          "category": "envoy.tracers"
         },
         {
          "name": "envoy.tracers.zipkin",
          "category": "envoy.tracers"
         },
         {
          "name": "envoy.zipkin",
          "category": "envoy.tracers"
         },
         {
          "name": "envoy.resource_monitors.fixed_heap",
          "category": "envoy.resource_monitors"
         },
         {
          "name": "envoy.resource_monitors.injected_resource",
          "category": "envoy.resource_monitors"
         },
         {
          "name": "envoy.filters.dubbo.router",
          "category": "envoy.dubbo_proxy.filters"
         },
         {
          "name": "dubbo.hessian2",
          "category": "envoy.dubbo_proxy.serializers"
         },
         {
          "name": "envoy.retry_priorities.previous_priorities",
          "category": "envoy.retry_priorities"
         },
         {
          "name": "raw_udp_listener",
          "category": "envoy.udp_listeners"
         },
         {
          "name": "default",
          "category": "envoy.dubbo_proxy.route_matchers"
         },
         {
          "name": "envoy.filters.thrift.rate_limit",
          "category": "envoy.thrift_proxy.filters"
         },
         {
          "name": "envoy.filters.thrift.router",
          "category": "envoy.thrift_proxy.filters"
         },
         {
          "name": "envoy.grpc_credentials.aws_iam",
          "category": "envoy.grpc_credentials"
         },
         {
          "name": "envoy.grpc_credentials.default",
          "category": "envoy.grpc_credentials"
         },
         {
          "name": "envoy.grpc_credentials.file_based_metadata",
          "category": "envoy.grpc_credentials"
         },
         {
          "name": "envoy.cluster.eds",
          "category": "envoy.clusters"
         },
         {
          "name": "envoy.cluster.logical_dns",
          "category": "envoy.clusters"
         },
         {
          "name": "envoy.cluster.original_dst",
          "category": "envoy.clusters"
         },
         {
          "name": "envoy.cluster.static",
          "category": "envoy.clusters"
         },
         {
          "name": "envoy.cluster.strict_dns",
          "category": "envoy.clusters"
         },
         {
          "name": "envoy.clusters.aggregate",
          "category": "envoy.clusters"
         },
         {
          "name": "envoy.clusters.dynamic_forward_proxy",
          "category": "envoy.clusters"
         },
         {
          "name": "envoy.clusters.redis",
          "category": "envoy.clusters"
         },
         {
          "name": "envoy.filters.udp.dns_filter",
          "category": "envoy.filters.udp_listener"
         },
         {
          "name": "envoy.filters.udp_listener.udp_proxy",
          "category": "envoy.filters.udp_listener"
         },
         {
          "name": "envoy.buffer",
          "category": "envoy.filters.http"
         },
         {
          "name": "envoy.cors",
          "category": "envoy.filters.http"
         },
         {
          "name": "envoy.csrf",
          "category": "envoy.filters.http"
         },
         {
          "name": "envoy.ext_authz",
          "category": "envoy.filters.http"
         },
         {
          "name": "envoy.fault",
          "category": "envoy.filters.http"
         },
         {
          "name": "envoy.filters.http.adaptive_concurrency",
          "category": "envoy.filters.http"
         },
         {
          "name": "envoy.filters.http.admission_control",
          "category": "envoy.filters.http"
         },
         {
          "name": "envoy.filters.http.aws_lambda",
          "category": "envoy.filters.http"
         },
         {
          "name": "envoy.filters.http.aws_request_signing",
          "category": "envoy.filters.http"
         },
         {
          "name": "envoy.filters.http.buffer",
          "category": "envoy.filters.http"
         },
         {
          "name": "envoy.filters.http.cache",
          "category": "envoy.filters.http"
         },
         {
          "name": "envoy.filters.http.compressor",
          "category": "envoy.filters.http"
         },
         {
          "name": "envoy.filters.http.cors",
          "category": "envoy.filters.http"
         },
         {
          "name": "envoy.filters.http.csrf",
          "category": "envoy.filters.http"
         },
         {
          "name": "envoy.filters.http.decompressor",
          "category": "envoy.filters.http"
         },
         {
          "name": "envoy.filters.http.dynamic_forward_proxy",
          "category": "envoy.filters.http"
         },
         {
          "name": "envoy.filters.http.dynamo",
          "category": "envoy.filters.http"
         },
         {
          "name": "envoy.filters.http.ext_authz",
          "category": "envoy.filters.http"
         },
         {
          "name": "envoy.filters.http.fault",
          "category": "envoy.filters.http"
         },
         {
          "name": "envoy.filters.http.grpc_http1_bridge",
          "category": "envoy.filters.http"
         },
         {
          "name": "envoy.filters.http.grpc_http1_reverse_bridge",
          "category": "envoy.filters.http"
         },
         {
          "name": "envoy.filters.http.grpc_json_transcoder",
          "category": "envoy.filters.http"
         },
         {
          "name": "envoy.filters.http.grpc_stats",
          "category": "envoy.filters.http"
         },
         {
          "name": "envoy.filters.http.grpc_web",
          "category": "envoy.filters.http"
         },
         {
          "name": "envoy.filters.http.gzip",
          "category": "envoy.filters.http"
         },
         {
          "name": "envoy.filters.http.header_to_metadata",
          "category": "envoy.filters.http"
         },
         {
          "name": "envoy.filters.http.health_check",
          "category": "envoy.filters.http"
         },
         {
          "name": "envoy.filters.http.ip_tagging",
          "category": "envoy.filters.http"
         },
         {
          "name": "envoy.filters.http.jwt_authn",
          "category": "envoy.filters.http"
         },
         {
          "name": "envoy.filters.http.lua",
          "category": "envoy.filters.http"
         },
         {
          "name": "envoy.filters.http.on_demand",
          "category": "envoy.filters.http"
         },
         {
          "name": "envoy.filters.http.original_src",
          "category": "envoy.filters.http"
         },
         {
          "name": "envoy.filters.http.ratelimit",
          "category": "envoy.filters.http"
         },
         {
          "name": "envoy.filters.http.rbac",
          "category": "envoy.filters.http"
         },
         {
          "name": "envoy.filters.http.router",
          "category": "envoy.filters.http"
         },
         {
          "name": "envoy.filters.http.squash",
          "category": "envoy.filters.http"
         },
         {
          "name": "envoy.filters.http.tap",
          "category": "envoy.filters.http"
         },
         {
          "name": "envoy.grpc_http1_bridge",
          "category": "envoy.filters.http"
         },
         {
          "name": "envoy.grpc_json_transcoder",
          "category": "envoy.filters.http"
         },
         {
          "name": "envoy.grpc_web",
          "category": "envoy.filters.http"
         },
         {
          "name": "envoy.gzip",
          "category": "envoy.filters.http"
         },
         {
          "name": "envoy.health_check",
          "category": "envoy.filters.http"
         },
         {
          "name": "envoy.http_dynamo_filter",
          "category": "envoy.filters.http"
         },
         {
          "name": "envoy.ip_tagging",
          "category": "envoy.filters.http"
         },
         {
          "name": "envoy.lua",
          "category": "envoy.filters.http"
         },
         {
          "name": "envoy.rate_limit",
          "category": "envoy.filters.http"
         },
         {
          "name": "envoy.router",
          "category": "envoy.filters.http"
         },
         {
          "name": "envoy.squash",
          "category": "envoy.filters.http"
         },
         {
          "name": "envoy.ip",
          "category": "envoy.resolvers"
         },
         {
          "name": "envoy.filters.listener.http_inspector",
          "category": "envoy.filters.listener"
         },
         {
          "name": "envoy.filters.listener.original_dst",
          "category": "envoy.filters.listener"
         },
         {
          "name": "envoy.filters.listener.original_src",
          "category": "envoy.filters.listener"
         },
         {
          "name": "envoy.filters.listener.proxy_protocol",
          "category": "envoy.filters.listener"
         },
         {
          "name": "envoy.filters.listener.tls_inspector",
          "category": "envoy.filters.listener"
         },
         {
          "name": "envoy.listener.http_inspector",
          "category": "envoy.filters.listener"
         },
         {
          "name": "envoy.listener.original_dst",
          "category": "envoy.filters.listener"
         },
         {
          "name": "envoy.listener.original_src",
          "category": "envoy.filters.listener"
         },
         {
          "name": "envoy.listener.proxy_protocol",
          "category": "envoy.filters.listener"
         },
         {
          "name": "envoy.listener.tls_inspector",
          "category": "envoy.filters.listener"
         },
         {
          "name": "envoy.extensions.http.cache.simple",
          "category": "http_cache_factory"
         },
         {
          "name": "auto",
          "category": "envoy.thrift_proxy.transports"
         },
         {
          "name": "framed",
          "category": "envoy.thrift_proxy.transports"
         },
         {
          "name": "header",
          "category": "envoy.thrift_proxy.transports"
         },
         {
          "name": "unframed",
          "category": "envoy.thrift_proxy.transports"
         },
         {
          "name": "envoy.dog_statsd",
          "category": "envoy.stats_sinks"
         },
         {
          "name": "envoy.metrics_service",
          "category": "envoy.stats_sinks"
         },
         {
          "name": "envoy.stat_sinks.dog_statsd",
          "category": "envoy.stats_sinks"
         },
         {
          "name": "envoy.stat_sinks.hystrix",
          "category": "envoy.stats_sinks"
         },
         {
          "name": "envoy.stat_sinks.metrics_service",
          "category": "envoy.stats_sinks"
         },
         {
          "name": "envoy.stat_sinks.statsd",
          "category": "envoy.stats_sinks"
         },
         {
          "name": "envoy.statsd",
          "category": "envoy.stats_sinks"
         },
         {
          "name": "envoy.transport_sockets.alts",
          "category": "envoy.transport_sockets.downstream"
         },
         {
          "name": "envoy.transport_sockets.quic",
          "category": "envoy.transport_sockets.downstream"
         },
         {
          "name": "envoy.transport_sockets.raw_buffer",
          "category": "envoy.transport_sockets.downstream"
         },
         {
          "name": "envoy.transport_sockets.tap",
          "category": "envoy.transport_sockets.downstream"
         },
         {
          "name": "envoy.transport_sockets.tls",
          "category": "envoy.transport_sockets.downstream"
         },
         {
          "name": "raw_buffer",
          "category": "envoy.transport_sockets.downstream"
         },
         {
          "name": "tls",
          "category": "envoy.transport_sockets.downstream"
         },
         {
          "name": "envoy.retry_host_predicates.omit_canary_hosts",
          "category": "envoy.retry_host_predicates"
         },
         {
          "name": "envoy.retry_host_predicates.omit_host_metadata",
          "category": "envoy.retry_host_predicates"
         },
         {
          "name": "envoy.retry_host_predicates.previous_hosts",
          "category": "envoy.retry_host_predicates"
         },
         {
          "name": "envoy.compression.gzip.compressor",
          "category": "envoy.compression.compressor"
         }
        ]
       },
       "static_resources": {
        "listeners": [
         {
          "name": "main",
          "address": {
           "socket_address": {
            "address": "0.0.0.0",
            "port_value": 8000
           }
          },
          "filter_chains": [
           {
            "filters": [
             {
              "name": "envoy.filters.network.http_connection_manager",
              "typed_config": {
               "@type": "type.googleapis.com/envoy.config.filter.network.http_connection_manager.v2.HttpConnectionManager",
               "stat_prefix": "ingress_http",
               "route_config": {
                "name": "local_route",
                "virtual_hosts": [
                 {
                  "name": "local_service",
                  "domains": [
                   "*"
                  ],
                  "routes": [
                   {
                    "match": {
                     "prefix": "/svc"
                    },
                    "route": {
                     "cluster": "web_service",
                     "prefix_rewrite": "/"
                    }
                   },
                   {
                    "match": {
                     "prefix": "/waf"
                    },
                    "route": {
                     "cluster": "waf",
                     "prefix_rewrite": "/"
                    }
                   },
                   {
                    "match": {
                     "prefix": "/app"
                    },
                    "route": {
                     "cluster": "app",
                     "prefix_rewrite": "/"
                    }
                   }
                  ]
                 }
                ]
               },
               "http_filters": [
                {
                 "name": "envoy.filters.http.lua",
                 "typed_config": {
                  "@type": "type.googleapis.com/envoy.config.filter.http.lua.v2.Lua",
                  "inline_code": "local mylibrary = require(\"lib.mylibrary\")\nprint(\"===========lua lib loaded.....======\")\n\nfunction envoy_on_request(request_handle)\n\n\n  local message=\"=========AAAAABBBBCCCCC============\"\n  request_handle:logTrace(message)\n  request_handle:logDebug(message)\n  request_handle:logInfo(message)\n  request_handle:logWarn(message)\n  request_handle:logErr(message)\n  request_handle:logCritical(message)\n\n  request_handle:headers():add(\"foo\", mylibrary.foobar())\nend\nfunction envoy_on_response(response_handle)\n  local message=\"=========response called============\"\n  response_handle:logTrace(message)\n  body_size = response_handle:body():length()\n  response_handle:headers():add(\"response-body-size\", tostring(body_size))\nend\n"
                 }
                },
                {
                 "name": "envoy.filters.http.router",
                 "typed_config": {}
                }
               ]
              }
             }
            ]
           }
          ]
         }
        ],
        "clusters": [
         {
          "name": "web_service",
          "type": "STRICT_DNS",
          "connect_timeout": "0.250s",
          "load_assignment": {
           "cluster_name": "web_service",
           "endpoints": [
            {
             "lb_endpoints": [
              {
               "endpoint": {
                "address": {
                 "socket_address": {
                  "address": "web_service",
                  "port_value": 80
                 }
                }
               }
              }
             ]
            }
           ]
          }
         },
         {
          "name": "waf",
          "type": "STRICT_DNS",
          "connect_timeout": "0.250s",
          "load_assignment": {
           "cluster_name": "waf",
           "endpoints": [
            {
             "lb_endpoints": [
              {
               "endpoint": {
                "address": {
                 "socket_address": {
                  "address": "waf",
                  "port_value": 80
                 }
                }
               }
              }
             ]
            }
           ]
          }
         },
         {
          "name": "app",
          "type": "STRICT_DNS",
          "connect_timeout": "0.250s",
          "load_assignment": {
           "cluster_name": "app",
           "endpoints": [
            {
             "lb_endpoints": [
              {
               "endpoint": {
                "address": {
                 "socket_address": {
                  "address": "app",
                  "port_value": 80
                 }
                }
               }
              }
             ]
            }
           ]
          }
         }
        ]
       },
       "admin": {
        "access_log_path": "/dev/null",
        "address": {
         "socket_address": {
          "address": "0.0.0.0",
          "port_value": 8001
         }
        }
       }
      },
      "last_updated": "2020-07-13T02:28:15.459Z"
     },
     {
      "@type": "type.googleapis.com/envoy.admin.v3.ClustersConfigDump",
      "static_clusters": [
       {
        "cluster": {
         "@type": "type.googleapis.com/envoy.api.v2.Cluster",
         "name": "app",
         "type": "STRICT_DNS",
         "connect_timeout": "0.250s",
         "load_assignment": {
          "cluster_name": "app",
          "endpoints": [
           {
            "lb_endpoints": [
             {
              "endpoint": {
               "address": {
                "socket_address": {
                 "address": "app",
                 "port_value": 80
                }
               }
              }
             }
            ]
           }
          ]
         }
        },
        "last_updated": "2020-07-13T02:28:15.472Z"
       },
       {
        "cluster": {
         "@type": "type.googleapis.com/envoy.api.v2.Cluster",
         "name": "waf",
         "type": "STRICT_DNS",
         "connect_timeout": "0.250s",
         "load_assignment": {
          "cluster_name": "waf",
          "endpoints": [
           {
            "lb_endpoints": [
             {
              "endpoint": {
               "address": {
                "socket_address": {
                 "address": "waf",
                 "port_value": 80
                }
               }
              }
             }
            ]
           }
          ]
         }
        },
        "last_updated": "2020-07-13T02:28:15.471Z"
       },
       {
        "cluster": {
         "@type": "type.googleapis.com/envoy.api.v2.Cluster",
         "name": "web_service",
         "type": "STRICT_DNS",
         "connect_timeout": "0.250s",
         "load_assignment": {
          "cluster_name": "web_service",
          "endpoints": [
           {
            "lb_endpoints": [
             {
              "endpoint": {
               "address": {
                "socket_address": {
                 "address": "web_service",
                 "port_value": 80
                }
               }
              }
             }
            ]
           }
          ]
         }
        },
        "last_updated": "2020-07-13T02:28:15.470Z"
       }
      ]
     },
     {
      "@type": "type.googleapis.com/envoy.admin.v3.ListenersConfigDump",
      "static_listeners": [
       {
        "listener": {
         "@type": "type.googleapis.com/envoy.api.v2.Listener",
         "name": "main",
         "address": {
          "socket_address": {
           "address": "0.0.0.0",
           "port_value": 8000
          }
         },
         "filter_chains": [
          {
           "filters": [
            {
             "name": "envoy.filters.network.http_connection_manager",
             "typed_config": {
              "@type": "type.googleapis.com/envoy.config.filter.network.http_connection_manager.v2.HttpConnectionManager",
              "stat_prefix": "ingress_http",
              "route_config": {
               "name": "local_route",
               "virtual_hosts": [
                {
                 "name": "local_service",
                 "domains": [
                  "*"
                 ],
                 "routes": [
                  {
                   "match": {
                    "prefix": "/svc"
                   },
                   "route": {
                    "cluster": "web_service",
                    "prefix_rewrite": "/"
                   }
                  },
                  {
                   "match": {
                    "prefix": "/waf"
                   },
                   "route": {
                    "cluster": "waf",
                    "prefix_rewrite": "/"
                   }
                  },
                  {
                   "match": {
                    "prefix": "/app"
                   },
                   "route": {
                    "cluster": "app",
                    "prefix_rewrite": "/"
                   }
                  }
                 ]
                }
               ]
              },
              "http_filters": [
               {
                "name": "envoy.filters.http.lua",
                "typed_config": {
                 "@type": "type.googleapis.com/envoy.config.filter.http.lua.v2.Lua",
                 "inline_code": "local mylibrary = require(\"lib.mylibrary\")\nprint(\"===========lua lib loaded.....======\")\n\nfunction envoy_on_request(request_handle)\n\n\n  local message=\"=========AAAAABBBBCCCCC============\"\n  request_handle:logTrace(message)\n  request_handle:logDebug(message)\n  request_handle:logInfo(message)\n  request_handle:logWarn(message)\n  request_handle:logErr(message)\n  request_handle:logCritical(message)\n\n  request_handle:headers():add(\"foo\", mylibrary.foobar())\nend\nfunction envoy_on_response(response_handle)\n  local message=\"=========response called============\"\n  response_handle:logTrace(message)\n  body_size = response_handle:body():length()\n  response_handle:headers():add(\"response-body-size\", tostring(body_size))\nend\n"
                }
               },
               {
                "name": "envoy.filters.http.router",
                "typed_config": {}
               }
              ]
             }
            }
           ]
          }
         ]
        },
        "last_updated": "2020-07-13T02:28:15.517Z"
       }
      ]
     },
     {
      "@type": "type.googleapis.com/envoy.admin.v3.ScopedRoutesConfigDump"
     },
     {
      "@type": "type.googleapis.com/envoy.admin.v3.RoutesConfigDump",
      "static_route_configs": [
       {
        "route_config": {
         "@type": "type.googleapis.com/envoy.api.v2.RouteConfiguration",
         "name": "local_route",
         "virtual_hosts": [
          {
           "name": "local_service",
           "domains": [
            "*"
           ],
           "routes": [
            {
             "match": {
              "prefix": "/svc"
             },
             "route": {
              "cluster": "web_service",
              "prefix_rewrite": "/"
             }
            },
            {
             "match": {
              "prefix": "/waf"
             },
             "route": {
              "cluster": "waf",
              "prefix_rewrite": "/"
             }
            },
            {
             "match": {
              "prefix": "/app"
             },
             "route": {
              "cluster": "app",
              "prefix_rewrite": "/"
             }
            }
           ]
          }
         ]
        },
        "last_updated": "2020-07-13T02:28:15.494Z"
       }
      ]
     },
     {
      "@type": "type.googleapis.com/envoy.admin.v3.SecretsConfigDump"
     }
    ]
   }